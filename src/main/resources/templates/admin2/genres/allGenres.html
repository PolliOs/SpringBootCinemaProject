<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Genres Panel</title>
    <meta charset="UTF-8">
    <div th:replace="admin2/headerImports"></div>
</head>
<body>
<div th:replace="admin2/navbar"></div>
<div class="container">
    <div class="container">
        <div class="jumbotron">
            <h1>Список доступних жанрів у нашому кінотеатрі</h1>
        </div>
    </div>
    <div class="split-left">
            <table class="table table-hover">
                <tr>
                    <th>Назва</th>
                    <th>Видалити</th>
                </tr>
                <tr th:each="genre : ${genres}">
                    <td th:text="${genre.genreTitle}"></td>
                    <td>
                        <form th:method="post"
                              th:attr="action=@{/admin2/genres/deleteGenre/} + ${genre.id}">
                            <input type="hidden" th:name="${_csrf.parameterName}"
                                   th:value="${_csrf.token}"/>
                            <button type="submit" class="btn btn-danger btn-lg" onclick="return confirm('Ви впевнені, що хочете видалити цей жанр?');" >
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                            </button>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    <div class="split-right">
        <form class="form" th:object="${genre}" th:method="post" th:attr="action=@{/admin2/genres}">
            <input type="hidden" th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}" />
            <input type="hidden" th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}" xmlns:th="http://www.w3.org/1999/xhtml"/>
            <div class="form-row" xmlns:th="http://www.w3.org/1999/xhtml">
                <div class="form-group">
                    <input type="hidden" class="form-control" th:field="${genre.id}"/>
                </div>
                <div class="form-group">
                    <label for="genreTitle">Назва жанру</label> <input type="text"
                                                                       class="form-control" th:field="${genre.genreTitle}"
                                                                       id="genreTitle"
                                                                       placeholder="назва жанру" style="width: 45%"/>
                </div>
                <div class="form-group">
                    <label th:if="${#fields.hasErrors('genreTitle')}" class="errorMsg"
                           th:errors="*{genreTitle}"></label>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Додати</button>
                </div>
            </div>
        </form>

    </div>
</div>



</body>
</html>

<!--<form class="form" th:object="${genre}" th:method="post">-->
<!--    <input type="hidden" th:name="${_csrf.parameterName}"-->
<!--           th:value="${_csrf.token}" />-->
<!--    <input type="hidden" th:name="${_csrf.parameterName}"-->
<!--           th:value="${_csrf.token}" xmlns:th="http://www.w3.org/1999/xhtml"/>-->
<!--    <div class="form-row" xmlns:th="http://www.w3.org/1999/xhtml">-->
<!--        <div class="form-group">-->
<!--            <input type="hidden" class="form-control" th:field="${genre.id}"/>-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--            <label for="genreTitle">Назва жанру</label> <input type="text"-->
<!--                                                               class="form-control" th:field="${genre.genreTitle}"-->
<!--                                                               id="genreTitle"-->
<!--                                                               placeholder="genre title"/>-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--            <label th:if="${#fields.hasErrors('genreTitle')}" class="errorMsg"-->
<!--                   th:errors="*{genreTitle}"></label>-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--            <button type="submit" class="btn btn-primary">Додати</button>-->
<!--        </div>-->
<!--    </div>-->
<!--</form>-->